<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:foaf="http://xmlns.com/foaf/0.1/" 
	xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">
  <head>
  	<!-- meta data -->
  	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<meta name="author" content="Yunjia Li"/>
	<meta name="description" content="Synote Media Fragment Player home page" />
	<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css" />
	<link rel="stylesheet" type="text/css" href="css/renderjson.css" />
	<link rel="stylesheet" type="text/css" href="css/main.css" />
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/jquery.renderjson.js"></script>
	<!-- development src-->
	<!--
	<link rel="stylesheet" type="text/css" href="mediaelementjs/mediaelementplayer.min.css" />
	<link rel="stylesheet" type="text/css" href="src/css/smfplayer.css" />
	<script type="text/javascript" src="src/jquery.url.js"></script>
	<script type="text/javascript" src="src/mediafragments.js"></script>
	<script type="text/javascript" src="mediaelementjs/mediaelement-and-player.min.js"></script>
	<script type="text/javascript" src="src/synote.multimedia.namespace.js"></script>
	<script type="text/javascript" src="src/synote.multimedia.utils.js"></script>
	<script type="text/javascript" src="src/synotemfplayer.js"></script>-->
	
	<!-- product src -->
	<link rel="stylesheet" type="text/css" href="build/mediaelementplayer.min.css" />
	<link rel="stylesheet" type="text/css" href="build/smfplayer.css" />
	<script type="text/javascript" src="build/mediaelement-and-player.min.js"></script>
	<script type="text/javascript" src="build/smfplayer.min.js"></script>

	<title>Synote Media Fragment Player Demo</title>
    
    <script type="text/javascript">
    	$(document).ready(function(){	    	
	    	$("#submit_btn").click(function(){
	    	
	    		if($("#player_div").data('smfplayer') !== undefined)
	    		{
	    			console.log('destroy');
	    			$("#player_div").smfplayer('destroy');
	    		}
	    		
		    	var mfuri = $("#mfuri").val();
		    	var player = $("#player_div").smfplayer({
		    		mfURI:mfuri, 
		    		success:function(mediaElement,domObject,p){
			    		mediaElement.addEventListener('timeupdate', function(e){
				    		var ct = mediaElement.currentTime;
				    		$("#currenttime_span").text(ct);
			    		});
		    		}
		    	});
		    	
		    	
		    	if(player !== undefined)
			    {
			    	$("#controls_div").show();
			    	$("#mfjson_div").empty();
			    	$("#mfjson_div").renderJSON(player.getMFJson());
	
			    	$("#pause_btn").click(function(){
				    	player.pause();
			    	});
			    	$("#play_btn").click(function(){
				    	player.play();
			    	});
			    	$("#mf_btn").click(function(){
				    	player.playmf();
			    	});
			    }
	    	});
	    	
	    	$("#url_ogv_btn").click(function(){
		    	$("#mfuri").val($("#url_ogv_code").text());
		    	$("#submit_btn").trigger('click');
	    	});
	    	
	    	$("#url_wmv_btn").click(function(){
		    	$("#mfuri").val($("#url_wmv_code").text());
		    	$("#submit_btn").trigger('click');
	    	});
	    	
	    	$("#url_yt_btn").click(function(){
		    	$("#mfuri").val($("#url_yt_code").text());
		    	$("#submit_btn").trigger('click');
	    	});
	    	
	    	$("#url_dm_btn").click(function(){
		    	$("#mfuri").val($("#url_dm_code").text());
		    	$("#submit_btn").trigger('click');
	    	});
	    	
    	});
    </script>
    
  </head>

  <body>
    <div class="container">
    	<div class="masthead">
	        <h3 class="muted">Synote Media Fragment Player</h3>
	        <div class="navbar">
	          <div class="navbar-inner">
	            <div class="container">
	              <ul class="nav">
	                <li><a href="#">Home</a></li>
	                <li><a href="tc.html">Test Cases</a></li>
	                <li class="active"><a href="demo.html">Demo</a></li>
	                <li><a href="about.html">About</a></li>
	              </ul>
	            </div>
	          </div>
	        </div><!-- /.navbar -->
        </div>
        <div class="row-fluid">
        	<h4>Demo</h4>
	        <div class="span12">
	        	<div>Try the following Media Fragment URIs:</div>
	        	<ul>
	        		<li>Ogv file online: <br/><code id="url_ogv_code">http://www.w3.org/2008/WebVideo/Fragments/media/fragf2f.ogv#t=12,21&xywh=240,160,160,240</code><button class="btn btn-info btn-mini" id="url_ogv_btn">Go</button>
	        		</li>
	        		<li>Wmv file online: <br/><code id="url_wmv_code">http://archive.org/download/WorkToFishtestwmv/test_wmv.wmv#xywh=180,180,180,180</code><button class="btn btn-info btn-mini" id="url_wmv_btn">Go</button><br/>
	        		<span class="label label-warning">Warning: You need to install <a href="http://www.microsoft.com/silverlight/" target="_blank">Silverlight.</a> to play wmv</span>
	        		</li>
	        		<li>YouTube video: <br/><code id="url_yt_code">http://www.youtube.com/watch?v=KkWI-DHLD_M#t=10,20&t=25,33&xywh=360,120,160,320</code>
	        			<button id="url_yt_btn" class="btn btn-info btn-mini">Go</button>
	        		</li>
	        		<li>Dailymotion video: <br/><code id="url_dm_code">http://www.dailymotion.com/video/xuvyrp_us-election-2012-latest_news#t=00:00:59,00:01:11&xywh=percent:40,10,40,60</code><button id="url_dm_btn"class="btn btn-info btn-mini">Go</button>
	        		</li>
	        	</ul>
      			<div class="clearfix">
      				<span>Or enter a Media Fragment URI yourself:</span>
      				<div class="input">
      					<input id="mfuri" class="xlarge span8" type="text" name="mfuri" />
      					<br/><button id="submit_btn" class="btn btn-success"><i class="icon-play icon-white"></i>Play</button>
      				</div>
      			</div>
	        </div>
        </div>
        <br/>
        <div class="row-fluid">
	        <div class="span6">
	        	<div id="player_div">
		        	
	        	</div>
	        	<div id="controls_div" style="display:none;">
		        	<button class="btn" id="play_btn">Play</button>
		        	<button class="btn" id="pause_btn">Pause</button>
		        	<button class="btn" id="stop_btn">Stop</button>
		        	<button class="btn" id="mf_btn">Play MF</button>
		        	<div style="display:inline;">CurrentTime:<span id="currenttime_span"></span></div>
	        	</div>
	      	</div>
        </div>
        <div class="row-fluid">
	        <div class="span12">
	      		<h5>Media Fragment Info</h5>
	      		<div id='mfjson_div'></div>
		    </div>
        </div>
        <hr/>
        <div class="footer">
        	<p>&copy; 2013 University of Southampton</p>
       	</div>
    </div> <!-- /container -->

  </body>
</html>
